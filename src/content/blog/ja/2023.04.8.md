---
lang: ja
title: 'Electron + Vite。Nodeモジュールの使用に関する問題'
description: ''
pubDate: 'Apr 8 2023'
postImage: '/electron-vite.png'
---

Viteを使ってElectronのビルドを行う際（現在は`package.json`での`"type": "module"`オプションがサポートされていません）、`path`、`fs`などのNode.jsモジュールの使用に問題が生じることがあります。

エラー`Error: Module “path” has been externalized for browser compatibility. Cannot access “path.sep” in client code`が表示されることがあります。

しかし、これは`vite-plugin-electron-renderer`ポリフィルをインストールする（`npm i -D vite-plugin-electron-renderer`）ことで、そして`vite.config.ts`で以下のように宣言することで、簡単に修正できます：

```typescript
import { defineConfig } from 'vite';
import vue from '@vitejs/plugin-vue';
import renderer from 'vite-plugin-electron-renderer';

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [
    vue(),
    renderer(),
  ],
  base: './',
});
```

TAGS:
- Electron
- Vite
- Node.js
- TypeScript
- フロントエンド
- 開発
- ウェブ開発
- ビルドツール
- トラブルシューティング
